## Quartz之Corn表达式

#### 一、包含7个子表达式，子表达式之间用空格分隔，分别表示：

1. Seconds秒
2. Minutes分钟
3. Hours小时
4. Day-Of-Month月中的天
5. Month月
6. Day-Of-Week周中的天
7. Year(Option field)年（可选项）

#### 二、取值：

| 字段         | 是否必填 | 允许值                | 允许的特殊字符  |
| ------------ | -------- | --------------------- | --------------- |
| 秒           | 是       | 0-59                  | , - * /         |
| 分           | 是       | 0-59                  | , - * /         |
| 小时         | 是       | 0-23                  | , - * /         |
| 日           | 是       | 1-31                  | , - * / ? L W C |
| 月           | 是       | 1-12或者JAN-DEC       | , - * /         |
| 周（星期几） | 是       | 1-7或者SUN-SAT        | , - * / ？L C # |
| 年           | 否       | 不填写，或者1970-2099 | , - * /         |

==注意：周（星期几）是从星期日开始计算的，也就是说1代表的是星期日，那么7代表的就是星期六了。==

#### 三、允许值说明：

1. 单个子表达式可以包含范围或者列表。例如：前面例子中的周（星期几）子表达式，可以设置为“WED”；如果要设置为范围或列表，则可设置为“MON-FRI”，"MON,WED,FRI"，甚至是混合式，如：”MON-WED,SAT“。
2. 所有子表达式中的值都有特定的合法范围。例如：秒和分的合法值为0到59，小时的合法范围是0到23，Day-Of-Month中值得合法范围是1到31（但需注意不同月份中的天数不同），月份的合法值为1到12。或者用字符串JAN、FEB、MAR、APR、MAY、JUN、JUL、AUG、SEP、OCT、NOV及DEC来表示。Day-Of-Week可以用1-7来表示（==1=星期日==）或者用字符串SUN、MON、TUE、WED、THU、FRI和SAT来表示。

* 允许的特殊字符说明

| 特殊符号 | 含义                                                         |
| -------- | ------------------------------------------------------------ |
| *        | 用来表示域中“每个”可能的值。因此在“Month”域中的\*表示每个月，而在Day-Of-Week域中的\*则表示”周中的每一天“。 |
| ?        | 表示不指定值。使用的场景为不需要关心当前设置这个字段的值；例如：”月份中的日期“和”周中的星期几“这两个元素是互斥的，如果指定了日期，星期几就用“?”，同理，指定了星期几，日期就用"?"。因此，应该通过设置一个问号（?）来表明你不想设置的那个字段。 |
| -        | 表示区间；例如：在小时上设置10-12，表示10、11、12点都会触发。 |
| ,        | 表示制定多个值；例如：在周字段上设置”MON,WED,FRI“，表示周一、周三、周五触发。 |
| /        | 表示值的增量；例如：如果分钟域中放入“0/15”，它表示“从0开始，每隔15分钟触发一次”，如果在分钟域中使用“3/20”，则表示“从第3分钟开始，每隔20分钟触发一次”。 |
| L        | 可以在Day-Of-Month及Day-Of-Week中使用，这个字符是“last”的简写，但是在两个域中的意义不同；例如：在Day-Of-Month域中的“L”表示这个月的最后一天，即，一月的31日，非闰年二月的28日；如果它用在Day-Of-Week中，则表示“7”或“SAT”，但如果在Day-Of-Week域中，这个字符跟在别的值后面，则表示“当月的最后一个周几”；例如：“6L”或者“FRIL”都表示本月最后一个周五。当使用“L”选项时，最重要的是不要制定列表或者值的范围，否则会导致混乱。 |
| W        | 只允许日期域出现。这个字符用于指定日期的最近的工作日（注意：工作日的范围是周一到周五）。例如：如果你在Day-Of-Month域中指定 “15W”，表示：这个月15号最近的工作日。所以，如果15号是周六，则任务会在14号触发。如果15好是周日，则任务会在周一也就是16号触发。如果是在日期域填写“1W”即使1号是周六，那么任务也只会在下周一，也就是3号触发，“W”字符指定的最近工作日是不能够跨月份的。字符“W”只能配合一个单独的数值使用，不能够是一个数字段，如：1-15W是错误的。 |
| LW       | L和W可以在日期域中联合使用，LW表示这个月最后一周的工作日。   |
| #        | 表示月中的第几个周几，例如：Day-Of-Week域中的“6#3”或者“FRI#3”，表示“月里面的第三个周五”。 |
| C        | 允许在日期域和星期域出现，代表“Calendar”的意思。这个字符依靠一个指定的“日历”。也就是说这个表达式的值依赖于相关的“日历”的计算结果，如果没有“日历”关联，则相当于日历中所有日期。如：5C在日期字段中就相当于日历5日以后的第一天，1C在星期字段中相当于星期日后的第一天。 |

#### 四、常用表达式例子

```corn
（0）0/20 * * * * ? 表示每20秒触发一次

（1）0 0 2 1 * ? 表示在每月的1日的凌晨2点触发

（2）0 15 10 ? * MON-FRI 表示周一到周五每天上午10:15触发

（3）0 15 10 ? 6L 2002-2006 表示2002-2006年的每个月的最后一个星期五上午10:15执行作

（4）0 0 10,14,16 * * ? 每天上午10点，下午2点，4点

（5）0 0/30 9-17 * * ? 朝九晚五工作时间内每半小时

（6）0 0 12 ? * WED 表示每个星期三中午12点

（7）0 0 12 * * ? 每天中午12点触发

（8）0 15 10 ? * * 每天上午10:15触发

（9）0 15 10 * * ? 每天上午10:15触发

（10）0 15 10 * * ? * 每天上午10:15触发

（11）0 15 10 * * ? 2005 2005年的每天上午10:15触发

（12）0 * 14 * * ? 在每天下午2点到下午2:59期间的每1分钟触发

（13）0 0/5 14 * * ? 在每天下午2点到下午2:55期间的每5分钟触发

（14）0 0/5 14,18 * * ? 在每天下午2点到2:55期间和下午6点到6:55期间的每5分钟触发

（15）0 0-5 14 * * ? 在每天下午2点到下午2:05期间的每1分钟触发

（16）0 10,44 14 ? 3 WED 每年三月的星期三的下午2:10和2:44触发

（17）0 15 10 ? * MON-FRI 周一至周五的上午10:15触发

（18）0 15 10 15 * ? 每月15日上午10:15触发

（19）0 15 10 L * ? 每月最后一日的上午10:15触发

（20）0 15 10 ? * 6L 每月的最后一个星期五上午10:15触发

（21）0 15 10 ? * 6L 2002-2005 2002年至2005年的每月的最后一个星期五上午10:15触发

（22）0 15 10 ? * 6#3 每月的第三个星期五上午10:15触发
```



==推荐：表达式生成器网站(https://www.bejson.com/othertools/cron/corn)== ，QQ文件中专站中Corn表达式生成器工具[CronExpBuilder.jar]